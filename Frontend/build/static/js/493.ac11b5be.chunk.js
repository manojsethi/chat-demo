"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[493,189],{13189:function(e,t,s){s.r(t);var n=s(16856),a=s(80184);t.default=function(){return(0,a.jsx)("div",{className:"text-black flex justify-center items-center mt-44",children:(0,a.jsxs)("div",{className:"text-center",children:[" ",(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(n.POW,{className:"text-7xl text-green-500"})}),(0,a.jsx)("h1",{className:"text-3xl text-center dark:text-white",children:"Free Chat With Users"})]})})}},5678:function(e,t,s){s.r(t);var n=s(47646),a=s(66106),i=s(30914),r=(s(72791),s(80184));t.default=function(e){var t=e.sideBarChatChild,s=e.chatAreaChild;return(0,r.jsx)("div",{children:(0,r.jsx)(n.Z,{style:{height:"75vh"},className:"  dark:!bg-navy-800",children:(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(i.Z,{md:8,xl:8,children:(0,r.jsx)("div",{style:{height:"66vh"},className:"shadow-3xl overflow-y-auto   rounded-md",children:t})}),(0,r.jsx)(i.Z,{md:16,xl:16,className:"p-2 ",children:s})]})})})}},14423:function(e,t,s){s.r(t);var n=s(93433),a=s(74165),i=s(15861),r=s(29439),d=s(29529),l=s(46379),c=s(2641),o=s(50668),u=s(7477),x=s(72791),f=s(23853),h=s(57689),m=s(65962),v=s(96136),g=s(95364),p=s(51468),j=s(80184);t.default=function(e){var t,s=e.selectedUser,w=e.setSelectedUser,y=((0,h.s0)(),localStorage.getItem("loggedInUser")?JSON.parse(localStorage.getItem("loggedInUser")):null),N=(0,x.useState)([]),S=(0,r.Z)(N,2),k=S[0],Z=S[1],C=(0,x.useContext)(g.SocketContext).socket,_=(0,x.useContext)(v.ChatContext).messageInfo,b=(0,x.useState)(""),B=(0,r.Z)(b,2),M=B[0],U=B[1],A=(0,x.useState)(!1),E=(0,r.Z)(A,2),I=E[0],R=E[1],P=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.next=3,p.default.getChats(t);case 3:(s=e.sent).statusCode===u.WE.Ok&&Z(s.data),R(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,x.useEffect)((function(){s&&P(s._id)}),[s]),(0,x.useEffect)((function(){_.message&&_.sentBy.id.toString()===s._id&&Z((function(e){return[].concat((0,n.Z)(e),[{message:_.message,sent_from:_.sentBy.id,__v:0,date:(new Date).toString(),_id:Math.random().toString(),isReaded:!0,sent_to:y._id,chatType:"Personal"}])}))}),[_.message]),(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:"",children:[(0,j.jsx)("div",{className:"bg-[#00A038] rounded-xl py-4",children:(0,j.jsxs)("div",{className:"flex justify-between px-6",children:[(0,j.jsxs)("div",{className:"text-white flex gap-4 items-center",children:[(0,j.jsx)(l.C,{size:"large",src:null!==(t=null===s||void 0===s?void 0:s.profile)&&void 0!==t?t:(0,j.jsx)(d.Z,{})}),(0,j.jsx)("p",{className:"font-semibold",children:s.name})]}),(0,j.jsx)("div",{children:(0,j.jsx)(c.ZP,{onClick:function(){return w(null)},type:"primary",className:"text-white mt-2 text-base font-medium",children:"Go Back"})})]})}),(0,j.jsxs)("div",{children:[I?(0,j.jsx)(m.default,{}):(0,j.jsxs)("div",{className:"shadow-3xl dark:shadow bg-white  mt-6   dark: dark:bg-navy-900 overflow-y-auto overflow-x-hidden ",children:[(0,j.jsx)("div",{className:"flex justify-center mt-2 py-4",children:(0,j.jsx)("p",{className:"text-center text-white bg-[#00A038] px-10 rounded-2xl  ",children:"Today"})}),(0,j.jsx)("div",{className:"overflow-y-auto",style:{minHeight:"49vh"},children:k&&k.length>0?k.map((function(e){return e.sent_from.toString()===y._id.toString()?(0,j.jsx)("div",{className:"flex mb-3 px-3 ",children:(0,j.jsx)("div",{className:"bg-[#00A038] px-6 rounded-xl text-white",children:e.message})}):(0,j.jsxs)("div",{className:"flex justify-between px-3 mb-3 ",children:[(0,j.jsx)("div",{}),(0,j.jsx)("div",{className:"text-black shadow-3xl px-6 rounded-xl",children:e.message})]})})):(0,j.jsx)("div",{className:"text-center mt-10 text-xl  dark:text-white font-medium pb-4",children:(0,j.jsx)("p",{children:"No Chats Found"})})})]}),(0,j.jsx)(o.Z,{value:M,onChange:function(e){return U(e.target.value)},placeholder:"Type here . . . . .",suffix:(0,j.jsx)(f.LbG,{onClick:function(){return M&&function(e,t){U(""),Z((function(s){return[].concat((0,n.Z)(s),[{message:t,sent_from:y._id,__v:0,date:(new Date).toString(),_id:Math.random().toString(),isReaded:!1,sent_to:e,chatType:"Personal"}])})),C.mySocket.emit("personalMessage",{message:t,sent_to:e,chatType:"Personal"})}(s._id,M)},className:"cursor-pointer"}),size:"large",className:"rounded-none w-full"})]})]})})}},60493:function(e,t,s){s.r(t);var n=s(93433),a=s(74165),i=s(1413),r=s(15861),d=s(29439),l=s(29529),c=s(51678),o=s(46379),u=s(7477),x=s(72791),f=s(65962),h=s(96136),m=s(95364),v=s(51468),g=s(13189),p=s(5678),j=s(14423),w=s(80184);t.default=function(){var e=(0,x.useState)([]),t=(0,d.Z)(e,2),s=t[0],y=t[1],N=(0,x.useState)(null),S=(0,d.Z)(N,2),k=S[0],Z=S[1],C=(0,x.useContext)(h.ChatContext).messageInfo,_=(0,x.useContext)(m.SocketContext).socket,b=(0,x.useState)(!1),B=(0,d.Z)(b,2),M=B[0],U=B[1],A=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),e.next=3,v.default.getUsers();case 3:(t=e.sent).statusCode===u.WE.Ok&&y(t.data.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{isSelected:!1})}))),U(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,x.useEffect)((function(){A()}),[]),(0,x.useEffect)((function(){if(C.message){var e=s.find((function(e){return e._id.toString()===C.sentBy.id.toString()}));y((function(t){return t=e?t.map((function(e){return e._id.toString()===C.sentBy.id&&(e=(0,i.Z)((0,i.Z)({},e),{},{unReadedMessages:Number(e.unReadedMessages)+1})),e})):[].concat((0,n.Z)(t),[{__v:0,_id:C.sentBy.id,createdAt:(new Date).toString(),email:"a@gfmail.com",last_login:(new Date).toString(),name:C.sentBy.name,password:"",unReadedMessages:1,isSelected:!1,profile:"",unreadMessages:1}]),(0,n.Z)(t)}))}}),[C]),(0,x.useEffect)((function(){var e;k&&(_.mySocket.emit("startChat",{id:null===(e=_.user)||void 0===e?void 0:e._id,userId:k._id}),y((function(e){return e.map((function(e){return e._id===k._id&&(e=(0,i.Z)((0,i.Z)({},e),{},{unReadedMessages:0})),e}))})))}),[k]),(0,w.jsx)("div",{children:M?(0,w.jsx)(f.default,{}):k?k&&(0,w.jsx)(j.default,{setSelectedUser:Z,selectedUser:k}):(0,w.jsx)(p.default,{sideBarChatChild:s&&(0,w.jsx)("div",{className:"py-3",children:null===s||void 0===s?void 0:s.map((function(e){var t,s;return(0,w.jsx)("div",{className:"px-2 mt-1 ",children:(0,w.jsx)("div",{className:"".concat(e.isSelected?"bg-[#00A038] rounded-2xl  text-white w-full":""," dark:text-white px-4"),children:(0,w.jsx)(c.Z,{size:"small",count:e.unReadedMessages,children:(0,w.jsxs)("div",{onClick:function(){Z(e)},className:"flex\n                                         cursor-pointer items-center gap-4  p-2 ",children:[(0,w.jsx)(o.C,{size:"large",src:null!==(t=null===e||void 0===e?void 0:e.profile)&&void 0!==t?t:(0,w.jsx)(l.Z,{className:"".concat(e.isSelected?"text-white":"text-[black]"," dark:text-white")})}),(0,w.jsx)("div",{className:"text-lg  ".concat(e.isSelected?"text-white":"text-black"," dark:text-white"),children:(null===(s=e.name)||void 0===s?void 0:s.length)>12?e.name.slice(0,12)+"...":e.name})]})})})})}))}),chatAreaChild:(0,w.jsx)(g.default,{})})})}}}]);
//# sourceMappingURL=493.ac11b5be.chunk.js.map